<html>

<head>
  <partial src="head.html"></partial>
  <title>openHAB - Empowering the smart home</title>
</head>

<body>
  <link rel="stylesheet" href="css/maintenance.css" type="text/css" />
  <partial src="maintenancenav.html"></partial>
  <partial src="mainnav.html"></partial>
  <partial src="pagetitleheader.html" title="Configure services, adjust preferences and check the application health"></partial>
  <main>

    <section>
      <div class="card my-4">
        <div class="card-body">
          <div class="row">
            <p class="card-text col-sm mb-0">
              Your openHAB version is: 2.4.0 - 28.12.2018<br>
              Your openHAB distribution: openhabian 1.4.1
              <div class="col-md-auto text-right">
                <a class="btn btn-primary-hover" href="changelog.html">Changelog 2.4</a>
                <a class="btn btn-primary-hover" target="_blank" href="https://www.openhab.org/docs/installation/openhabian.html">About
                  openhabian</a>
              </div>
            </p>
          </div>
        </div>
      </div>
    </section>

    <section>
      <h4>Workload</h4>

      <div class="graphs mb-4">
        <ui-time-graph wait-for-event="DOMContentLoaded" onload="if (window.statConnect) window.statConnect(this,'memory')"
          views="Hour,Day,Week" maxdata="20" color="green" label="Memory in MB"></ui-time-graph>
        <ui-time-graph color="red" wait-for-event="DOMContentLoaded" onload="if (window.statConnect) window.statConnect(this,'cpu')"
          views="Hour,Day,Week" maxdata="20" label="CPU in %"></ui-time-graph>
        <ui-time-graph color="blue" wait-for-event="DOMContentLoaded" onload="if (window.statConnect) window.statConnect(this,'threads')"
          views="Hour,Day,Week" maxdata="20" label="# Threads"></ui-time-graph>
      </div>

      <div class="mb-4">
        Used storage size: 12 <i>MB</i>.
      </div>

      <div class="bs-callout bs-callout-warning mb-4">
        <button class="float-right btn btn-primary" title="Accept the new memory average"><i class="fas fa-check"></i></button>
        Warning: Memory consumption increased more than 100 <i>MB</i> within <b>7 days</b>.
        <a href="#">Configure thresholds</a>
      </div>

      <p>
        <button class="btn btn-primary-hover">Clear cache and restart</button>
        <button class="btn btn-danger-hover">Simulate critical situation</button>
      </p>
    </section>

    <section>
      <h4>Backup</h4>
      <table class="table table-hover table-sm">
        <tbody>
          <tr>
            <td>Status</td>
            <td><i class="badge badge-success">Online</i></td>
          </tr>
          <tr>
            <td>Last backup</td>
            <td>10.2 <i>MB</i> on Wed Jan 18 2019 07:00:23</td>
          </tr>
          <tr>
            <td>Schedule</td>
            <td>At 07:00, Monday through Friday</td>
          </tr>
          <tr>
            <td>Storage</td>
            <td>Google Drive</td>
          </tr>
          <tr>
            <td>Type</td>
            <td>Full backup, zip</td>
          </tr>
        </tbody>
      </table>
      <p>
        <a class="btn btn-primary-hover" href="#">Backup now</a>
      </p>
    </section>

    <oh-form-bind adapter="osgibundles" objectid=""></oh-form-bind>
    <oh-vue-form></oh-vue-form>
    <template>
      <section class="bundles">
        <h4>Running bundles</h4>
        <div class="btnbar m-2">
          <button class="btn btn-primary-hover btn-sm" style="justify-self: flex-start" @click.prevent="reload">Reload</button>
          <div style="flex:1"></div>
          <span>Show bundles from:</span>
          <ui-switch class="ml-3" label="Core" :value.prop="core" @input="core=$event.target.value"></ui-switch>
          <ui-switch class="ml-3" label="Add-ons" :value.prop="addons" @input="addons=$event.target.value"></ui-switch>
          <ui-switch class="ml-3" label="Auxilary" :value.prop="aux" @input="aux=$event.target.value"></ui-switch>
        </div>
        <div class="maxheight">
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>ID</th>
                <th>State</th>
                <th>Lvl</th>
                <th>Version</th>
                <th>Name</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="item of filtered">
                <td>{{item.id}}</td>
                <td>
                  <a href="#" @click.prevent="start(item)" class="mr-2"><i class="fas fa-play"></i></a>
                  <a href="#" @click.prevent="restart(item)" class="mr-2"><i class="fas fa-redo"></i></a>
                  <a href="#" @click.prevent="stop(item)" class="mr-2"><i class="fas fa-stop"></i></a>
                  {{item.state}}
                </td>
                <td>{{item.lvl}}</td>
                <td>{{item.version}}</td>
                <td>{{item.name}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </template>
  </main>
  <footer></footer>
  <partial src="contexthelp.html" help="maintenance"></partial>
  <script type="module" src="js/maintenance.js" async></script>
</body>

</html>
